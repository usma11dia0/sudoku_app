# 開発用のDockerfile
# ビルドステージ
FROM python:3.11-slim AS build

# 作業ディレクトリの設定
WORKDIR /app

# 依存関係をインストール
COPY requirements.txt .
RUN pip install -r requirements.txt

# ホスト側のファイルをコンテナへコピー
COPY assets/ ./assets/
COPY core/ ./core/
COPY util/ ./util/
COPY database/ ./database/
COPY server.py .
COPY settings.py .

# AWS SecretManagerを使用する？
COPY config.ini .  

# 開発サーバー用のポートを解放
EXPOSE 8000

# 開発サーバーを起動
CMD ["python", "-u", "server.py"]
